<div class="textbox">
  <button type="button" onclick="document.getElementById('overlay').style.display='none'" 
          style="position: absolute; top: 10px; right: 100px; background-color: white; border: 2px solid black; padding: 5px 15px; border-radius: 8px; font-weight: bold; cursor: pointer;">
    Close
  </button>

  <h2>How did Sophie do this week?</h2>

  <form id="tracker-form" style="margin-bottom: 20px;">
    <div style="margin-bottom: 20px;">
      <label for="name"><strong>Your name</strong></label><br />
      <input type="text" name="name" id="name" required style="width: 100%; padding: 8px; margin-top: 4px;">
    </div>

    <div style="margin-bottom: 20px;">
      <label for="date"><strong>Date</strong></label><br />
      <input type="date" name="date" id="date" required style="width: 100%; padding: 8px; margin-top: 4px;">
    </div>

    <div style="margin-bottom: 20px;">
      <label><strong>Not interrupting</strong></label><br />
      <input type="range" min="1" max="10" name="interrupting" value="5" class="slider"
             oninput="document.getElementById('value-interrupting').textContent = 'Score: ' + this.value;">
      <p id="value-interrupting">Score: 5</p>
    </div>

    <div style="margin-bottom: 20px;">
      <label><strong>Not taking control of all the tasks</strong></label><br />
      <input type="range" min="1" max="10" name="control" value="5" class="slider"
             oninput="document.getElementById('value-control').textContent = 'Score: ' + this.value;">
      <p id="value-control">Score: 5</p>
    </div>

    <button type="submit" style="padding: 10px 20px; font-weight: bold;">Submit</button>
  </form>

  <div id="thank-you" style="display: none; font-weight: bold; font-size: 1.2rem;">
    Thank you! Your feedback has been sent. ðŸ˜Š
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('tracker-form');
    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const formData = new FormData(form);

      fetch('https://formspree.io/f/mnqekpbl', {
        method: 'POST',
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      })
      .then(response => {
        if (response.ok) {
          form.style.display = 'none';
          document.getElementById('thank-you').style.display = 'block';
        } else {
          alert('There was a problem sending the form. Please try again.');
        }
      })
      .catch(error => {
        alert('Network error. Please try again later.');
      });
    });
  });
</script>
